# ü§ñ Auto-Generated AI Context
> Generated: 2026-02-22 00:45:46
> Project: peoplehub-backend
> Directory: /Users/adityacoy/Documents/hr-next/peoplehub-backend

**Instruksi untuk AI:** File ini berisi konteks otomatis tentang state project saat ini.
Gunakan sebagai referensi, tapi selalu prioritaskan instruksi dari `CLAUDE.md` jika ada konflik.

## üìÅ Project Structure

```
.
./Employee_Export_20260219 - with salary - UPDATED BY AMANDA v2.xlsx
./INV-IT-PDR-030.html
./Payroll Calculation Desember 2025 PFI Groups V1.xlsx
./QUO-IT-PDR-030-v2.html
./QUO-IT-PDR-030.html
./RAILWAY_ENV.md
./REVISED approval-hierarchy-ClaimKu.xlsx
./VERCEL_ENV.md
./dist
./docs
./docs/ONBOARDING_PRESENTATION.html
./docs/ONBOARDING_SYSTEM_FLOW.md
./generate-context.sh
./jest.config.js
./node_modules
./nodemon.json
./package-lock.json
./package.json
./prisma
./prisma/create-superadmin.ts
./prisma/migrations
./prisma/schema.prisma
./prisma/seed-tax.ts
./prisma/seed.ts
./scripts
./scripts/import-employees.ts
./scripts/import-remaining.ts
./scripts/import-salaries.ts
./scripts/migrate-from-mysql.ts
./scripts/update-pay-type.ts
./signature_new_transparent.png
./src
./src/__mocks__
./src/__tests__
./src/app.ts
./src/config
./src/database
./src/docs
./src/instrument.ts
./src/jobs
./src/middlewares
./src/modules
./src/routes
./src/server.ts
./src/shared
./src/types
./src/utils
./src/validations
./template_karyawan PDR cut off 21Jan-20 Feb.xlsx
```

---

## üõ† Detected Tech Stack

- **Node.js** (package.json found)
- **Environment vars** (.env found)

---

## üåø Git Status

**Branch:** `main`

**Uncommitted Changes:**
```
 M src/modules/employee/employee.controller.ts
 M src/modules/employee/employee.routes.ts
 M src/modules/employee/employee.service.ts
?? .ai-context.md
?? "Employee_Export_20260219 - with salary - UPDATED BY AMANDA v2.xlsx"
?? INV-IT-PDR-030.html
?? "Payroll Calculation Desember 2025 PFI Groups V1.xlsx"
?? QUO-IT-PDR-030-v2.html
?? QUO-IT-PDR-030.html
?? "REVISED approval-hierarchy-ClaimKu.xlsx"
?? generate-context.sh
?? signature_new_transparent.png
?? "template_karyawan PDR cut off 21Jan-20 Feb.xlsx"
```

---

## üìú Recent Commits (last 15)

```
6fd64f6 (HEAD -> main, origin/main) fix: Use correct Prisma relation name workLocationRef in employee export
5836cd3 feat: Add family card number and personal email to employee export
8a9de86 fix: Add missing profile fields to controller allowedFields and DTO
078dbae feat: Add personal data fields to profile completion (birth, gender, blood type, personal email)
3b7ce48 feat: Allow employees to update their name via profile completion
ba1531b feat: Add family_card_number to profile required fields
68ad52e feat: Add family_card_number field and expose national_id in auth response
bfdb643 fix: Prevent double counting of performance/medical/attendance allowances in Excel export
758248b fix: Add medical/performance/attendance to allowances type definition
f6326d4 fix: Include performance/medical/attendance allowances in payroll THP calculation
0c09220 fix: Keep performance/medical/attendance in allowances_detail for Excel export
5ebf501 fix: Add deleted_at filter to allowance query in payroll generation
3b55ba1 fix: Remove Sentry to fix Railway server crash
37ee0eb fix: Whitelist allowed fields in allowance update to prevent Prisma 400 errors
c0c6034 fix: Map performance/kinerja allowance type to achievement column in payroll export
```

---

## üîÄ Active Branches

```
* main
  remotes/origin/main
```

---

## üìù Recently Modified Files (last 48h)

```
./src/app.ts
./src/instrument.ts
./src/modules/allowance/allowance.service.ts
./src/modules/auth/auth.service.ts
./src/modules/company/company.routes.ts
./src/modules/company/company.service.ts
./src/modules/department/department.types.ts
./src/modules/employee/employee-export.service.ts
./src/modules/employee/employee.controller.ts
./src/modules/employee/employee.routes.ts
./src/modules/employee/employee.service.ts
./src/modules/employee/employee.types.ts
./src/modules/payroll-adjustment/payroll-adjustment.service.ts
./src/modules/payroll-adjustment/payroll-adjustment.types.ts
./src/modules/payroll/payroll.service.ts
./src/modules/payroll/payroll.types.ts
./src/modules/payroll/services/payroll-export.service.ts
./src/modules/work-location/work-location.types.ts
./src/server.ts
```

---

## üìå TODO / FIXME / HACK Items

```
./src/modules/employee/employee.service.ts:663:    let companyCode = 'XXX';
./src/modules/employee/employee.service.ts:680:        companyCode = company.code || 'XXX';
```

---

## üìö Existing Documentation

- ‚ùå `CLAUDE.md` not found
- ‚ùå `README.md` not found
- ‚ùå `docs/ARCHITECTURE.md` not found
- ‚ùå `docs/PROGRESS.md` not found
- ‚ùå `docs/DECISIONS.md` not found
- ‚ùå `docs/SESSION_LOG.md` not found
- ‚úÖ `.env.example` exists

---

## üìä Quick Stats

**Files by type:**
```
  .js        1 files
  .ts        197 files
```

**Estimated total LOC:** ~50036

---

## üöÄ Quick Start for AI

```
Baca file ini + CLAUDE.md, lalu:
1. Cek "Uncommitted Changes" ‚Äî ada kerjaan yang belum di-commit?
2. Cek "TODO/FIXME" ‚Äî ada yang urgent?
3. Cek "Session Log" ‚Äî ada handoff dari session sebelumnya?
4. Tanya user mau ngerjain apa hari ini.
```
